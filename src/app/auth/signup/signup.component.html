<section>
  <h2 fxLayoutAlign="center center">Inscription</h2>
  <form fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="1.2em" #signupForm="ngForm" (ngSubmit)="onSubmit(signupForm)">
  <mat-form-field hintLabel="Email valide">
    <input
      type="email"
      matInput
      placeholder="Email"
      autocomplete="new-email"
      required
      ngModel
      name="email"
      #emailInput="ngModel"
      email
    >
    <mat-error *ngIf="!emailInput.hasError('required')">Email non valide</mat-error>
    <mat-error *ngIf="emailInput.hasError('required')">Ce champs est requis</mat-error>
  </mat-form-field>
  <mat-form-field hintLabel="Min 6 caractères">
    <input
      type="password"
      matInput
      placeholder="Mot de passe"
      autocomplete="new-password"
      ngModel
      name="password"
      #passwordInput="ngModel"
      minlength="6"
      required
    >
    <mat-hint align="end">{{passwordInput.value?.length}}/6</mat-hint>
    <mat-error *ngIf="passwordInput.hasError('required')">Ce champs est requis</mat-error>
    <mat-error *ngIf="passwordInput.hasError('minlength')">Ce champs doit contenir au moins 6 caractères ({{passwordInput.value?.length}}/6)</mat-error>
  </mat-form-field>
    <mat-form-field>
      <input
        matInput
        [matDatepicker]="myPicker"
        placeholder="Date de naissance"
        [max]="maxDate"
        name="birthDate"
        ngModel
        required
        #birthDate="ngModel"
      >
      <mat-datepicker-toggle matSuffix [for]="myPicker"></mat-datepicker-toggle>
      <mat-datepicker #myPicker></mat-datepicker>
      <mat-error *ngIf="birthDate.hasError('required')">Ce champs est requis</mat-error>
    </mat-form-field>
      <mat-checkbox
        ngModel
        name="terms"
        required
        color="primary"
        labelPosition="after"
      >
        Accepter les conditions générales
      </mat-checkbox>
    <button [disabled]="signupForm.invalid" type="submit" mat-raised-button color="primary"><mat-icon>check</mat-icon> S'inscrire</button>
  </form>
</section>
